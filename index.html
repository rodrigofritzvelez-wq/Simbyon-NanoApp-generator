<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AGI Coherence Threshold Simulator â€” The 0.98 Argument</title>
<style>
  :root{--bg:#071026;--card:#0b1530;--accent:#00eaff;--muted:#98a7c2;--danger:#ff6b6b;--good:#6af0b7}
  body{margin:0;font-family:Inter,Segoe UI,Arial;background:linear-gradient(180deg,#040612 0%,#071026 100%);color:#eaf3ff;}
  .wrap{max-width:1100px;margin:28px auto;padding:20px;}
  header{display:flex;align-items:center;gap:14px}
  .logo{width:64px;height:64px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#7c4dff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#051225;font-size:20px}
  h1{margin:0;font-size:20px}
  p.lead{margin:4px 0 14px;color:var(--muted)}
  .grid{display:grid;grid-template-columns:1fr 420px;gap:18px;margin-top:18px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.03)}
  label{display:block;color:var(--muted);font-size:13px;margin-bottom:6px}
  .slider-row{margin-bottom:12px}
  input[type=range]{width:100%}
  .value{font-weight:700;color:#dffcff}
  .controls{display:flex;gap:8px;margin-top:10px}
  button{background:var(--accent);border:none;padding:10px 12px;border-radius:8px;color:#041022;font-weight:700;cursor:pointer}
  button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  .small{font-size:13px;color:var(--muted)}
  .result{display:flex;flex-direction:column;gap:8px}
  .metric{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}
  .bar{height:12px;background:linear-gradient(90deg,#063b63,#0b9ad9);border-radius:8px;overflow:hidden}
  .timeline{height:120px;background:#031224;border-radius:8px;padding:8px;display:flex;gap:6px;align-items:end;overflow:hidden}
  .pillar{width:18px;background:linear-gradient(180deg,#3b82f6,#06b6d4);border-radius:6px}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  @media (max-width:980px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">0.98</div>
      <div>
        <h1>AGI Coherence Threshold Simulator</h1>
        <p class="lead">Simula trade-offs entre control (estancamiento) y caos (extinciÃ³n). Objetivo propuesto: ICS â‰ˆ 0.98 â€” coherencia dinÃ¡mica.</p>
      </div>
    </header>

    <div class="grid">
      <!-- LEFT: Controls & narrative -->
      <div class="card" role="region" aria-label="SimulaciÃ³n">
        <h3 style="margin-top:0">Escenario â€” Inputs</h3>

        <div class="slider-row">
          <label>Governance Coherence (Gobernanza): <span id="governanceVal" class="value">0.75</span></label>
          <input id="governance" type="range" min="0" max="1" step="0.01" value="0.75">
          <div class="small">Refiere a la capacidad global de coordinar, auditar y corregir sistemas AGI.</div>
        </div>

        <div class="slider-row">
          <label>Development Velocity (Velocidad de desarrollo): <span id="velocityVal" class="value">0.60</span></label>
          <input id="velocity" type="range" min="0" max="1" step="0.01" value="0.60">
          <div class="small">MÃ¡s velocidad = mayor urgencia de coordinaciÃ³n.</div>
        </div>

        <div class="slider-row">
          <label>Alignment Research Level (Alineamiento): <span id="alignVal" class="value">0.40</span></label>
          <input id="alignment" type="range" min="0" max="1" step="0.01" value="0.40">
          <div class="small">InversiÃ³n y progreso en investigaciÃ³n de alineamiento.</div>
        </div>

        <div class="slider-row">
          <label>Entropy / Shadow (Sombra - unidades abstractas): <span id="entropyVal" class="value">15.0</span></label>
          <input id="entropy" type="range" min="0" max="100" step="0.1" value="15.0">
          <div class="small">Carga de datos/ruido no integrado que la AGI debe procesar.</div>
        </div>

        <div class="slider-row">
          <label>ICS Target (Coherencia objetivo): <span id="icsVal" class="value">0.98</span></label>
          <input id="icsTarget" type="range" min="0" max="1" step="0.001" value="0.98">
          <div class="small">El umbral que queremos alcanzar para la AGI.</div>
        </div>

        <div class="controls" style="margin-top:14px">
          <button id="simulate">Simulate Outcome</button>
          <button id="stress" class="ghost">Stress Test (Forzar MutaciÃ³n)</button>
          <button id="export" class="ghost">Export JSON</button>
        </div>

        <hr style="border-color:rgba(255,255,255,0.04);margin:16px 0">

        <div class="small">
          <strong>InterpretaciÃ³n rÃ¡pida:</strong> Minimizar la suma de <em>extinctionRisk</em> y <em>stagnationRisk</em>.
        </div>
      </div>

      <!-- RIGHT: Results / timeline -->
      <aside class="card" role="region" aria-label="Resultados">
        <h3 style="margin-top:0">Resultados</h3>
        <div class="result">
          <div class="metric">
            <div class="small">Extinction Risk</div>
            <div id="extRisk" class="value">â€”</div>
          </div>

          <div class="metric">
            <div class="small">Stagnation Risk</div>
            <div id="stagRisk" class="value">â€”</div>
          </div>

          <div class="metric">
            <div class="small">Total Risk</div>
            <div id="totalRisk" class="value">â€”</div>
          </div>

          <div class="metric">
            <div class="small">Verdict</div>
            <div id="verdict" class="value">â€”</div>
          </div>

          <div style="margin-top:10px">
            <div class="small">Timeline (posibles futuros para ICS objetivo)</div>
            <div id="timeline" class="timeline" aria-hidden="true"></div>
          </div>

          <div style="margin-top:10px">
            <div class="small">Quick policy hints</div>
            <div class="small" id="policyHints"></div>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      <small>Simbyon â€” FCP reimaginado como herramienta civilizacional. CÃ³digo y fÃ³rmulas experimentales.</small>
    </footer>
  </div>

<script>
  // Utilities
  const $ = id => document.getElementById(id);

  // Inputs
  const governance = $('governance');
  const velocity = $('velocity');
  const alignment = $('alignment');
  const entropy = $('entropy');
  const icsTarget = $('icsTarget');

  // Values display
  const governanceVal = $('governanceVal');
  const velocityVal = $('velocityVal');
  const alignVal = $('alignVal');
  const entropyVal = $('entropyVal');
  const icsVal = $('icsVal');

  // Outputs
  const extRiskEl = $('extRisk');
  const stagRiskEl = $('stagRisk');
  const totalRiskEl = $('totalRisk');
  const verdictEl = $('verdict');
  const timelineEl = $('timeline');
  const policyHintsEl = $('policyHints');

  // Simple risk function as per your math:
  function calculateExistentialRisk(governanceVal, icsTargetVal){
    const extinctionRisk = Math.pow(1 - governanceVal, 2) * 100; // scaled to %
    const stagnationRisk = Math.pow(icsTargetVal - 0.98, 2) * 100; // scaled to %
    const totalRisk = extinctionRisk + stagnationRisk;
    const verdict = totalRisk < 10 ? "âœ“ PROCEED (Risks low)" : (totalRisk < 30 ? "âš ï¸ REASSESS (Moderate risk)" : "ðŸš¨ HIGH RISK (Don't proceed)");
    return {
      extinction: Number(extinctionRisk.toFixed(2)),
      stagnation: Number(stagnationRisk.toFixed(2)),
      total: Number(totalRisk.toFixed(2)),
      verdict
    };
  }

  // Timeline generator (synthetic) â€” produces small bars representing scenario distribution
  function renderTimeline(governanceVal, velocityVal, alignmentVal, icsTargetVal, entropyVal){
    // sample 8 hypothetical futures by varying small noise
    timelineEl.innerHTML = '';
    const base = icsTargetVal;
    for(let i=0;i<8;i++){
      const noise = (Math.random()-0.5) * (0.06 * (1- alignmentVal)); // more noise if alignment low
      const impact = base + noise - (velocityVal*0.02) + (entropyVal/100*0.01);
      const height = Math.max(6, Math.min(110, (impact) * 110));
      const div = document.createElement('div');
      div.className = 'pillar';
      div.style.height = height + 'px';
      // color mapping (good -> greenish, bad -> red)
      const col = impact >= 0.985 ? 'linear-gradient(180deg,#42f5b6,#06b6d4)' : (impact < 0.96 ? 'linear-gradient(180deg,#ffb3a6,#ff6b6b)' : '
