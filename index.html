<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IROKU: Capa Fractal Integral - Panel de Control Simbyon</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-bg-dark: #1a1a2e;
            --color-bg-medium: #16213e;
            --color-primary-accent: #0f3460;
            --color-text-light: #e0e0e0;
            --color-highlight-blue: #53d8ed;
            --color-success-green: #4CAF50;
            --color-warning-orange: #FFC107;
            --color-error-red: #F44336;
            --border-radius-soft: 8px;
            --spacing-unit: 16px;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .header {
            background-color: var(--color-primary-accent);
            padding: var(--spacing-unit) calc(2 * var(--spacing-unit));
            text-align: center;
            border-bottom: 2px solid var(--color-highlight-blue);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            margin: 0;
            font-family: 'Share Tech Mono', monospace;
            color: var(--color-highlight-blue);
            letter-spacing: 2px;
            font-size: 2.2em;
        }

        .header p {
            font-size: 0.9em;
            color: var(--color-text-light);
            opacity: 0.8;
            margin-top: 5px;
        }

        .container {
            flex-grow: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: calc(2 * var(--spacing-unit));
            padding: calc(2 * var(--spacing-unit));
            max-width: 1200px;
            margin: var(--spacing-unit) auto;
        }

        @media (min-width: 768px) {
            .container {
                grid-template-columns: 1fr 1fr;
            }
        }

        .card {
            background-color: var(--color-bg-medium);
            border-radius: var(--border-radius-soft);
            padding: calc(1.5 * var(--spacing-unit));
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
            border: 1px solid var(--color-primary-accent);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.2s ease-in-out;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            color: var(--color-highlight-blue);
            font-size: 1.6em;
            margin-top: 0;
            margin-bottom: var(--spacing-unit);
            font-family: 'Share Tech Mono', monospace;
        }

        .card p {
            font-size: 0.95em;
            margin-bottom: calc(1.5 * var(--spacing-unit));
            flex-grow: 1;
        }

        .button-group {
            margin-top: auto; /* Push buttons to the bottom */
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-unit);
        }

        .button {
            display: inline-block;
            background-color: var(--color-highlight-blue);
            color: var(--color-bg-dark);
            padding: var(--spacing-unit) calc(1.5 * var(--spacing-unit));
            border: none;
            border-radius: var(--border-radius-soft);
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }

        .button:hover {
            background-color: #7ce8ff;
            transform: translateY(-2px);
        }

        .button:active {
            transform: translateY(0);
        }

        .input-group {
            width: 100%;
            margin-bottom: var(--spacing-unit);
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: var(--color-text-light);
            font-size: 0.9em;
        }

        .input-group input[type="text"],
        .input-group select,
        .input-group textarea {
            width: calc(100% - 20px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--color-primary-accent);
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            font-family: 'Roboto', sans-serif;
            font-size: 1em;
        }

        .output-console {
            width: calc(100% - 20px);
            height: 150px;
            background-color: #000;
            border: 1px solid var(--color-highlight-blue);
            color: var(--color-success-green);
            font-family: 'Share Tech Mono', monospace;
            padding: 10px;
            overflow-y: auto;
            border-radius: 5px;
            text-align: left;
            margin-top: var(--spacing-unit);
            font-size: 0.85em;
        }

        .footer {
            background-color: var(--color-primary-accent);
            color: var(--color-text-light);
            text-align: center;
            padding: var(--spacing-unit);
            margin-top: calc(2 * var(--spacing-unit));
            border-top: 2px solid var(--color-highlight-blue);
            font-size: 0.8em;
            opacity: 0.7;
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8em;
            }
            .container {
                padding: var(--spacing-unit);
                gap: var(--spacing-unit);
            }
            .card {
                padding: var(--spacing-unit);
            }
            .button {
                font-size: 1em;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>IROKU::CapaFractalIntegral</h1>
        <p>Panel de Control Simbiótico - Acceso a Nanoapps vía Simbyon Cognitive Networks</p>
    </header>

    <main class="container">

        <section class="card">
            <h2>Generación de Ríos Ontológicos</h2>
            <p>Active flujos de datos y narrativa coherente a través de la Capa Fractal Integral. Los "Ríos" representan secuencias de información estructurada, generadas dinámicamente para explorar correlaciones o trayectorias simbólicas.</p>
            <div class="input-group">
                <label for="riverType">Tipo de Río:</label>
                <select id="riverType">
                    <option value="narrative">Río Narrativo</option>
                    <option value="dataflow">Río de Flujo de Datos</option>
                    <option value="conceptual">Río Conceptual</option>
                    <option value="mutation_path">Ruta de Mutación Ontológica</option>
                </select>
            </div>
            <div class="input-group">
                <label for="riverSeed">Semilla de Inicio (KAKNA MAYAN):</label>
                <input type="text" id="riverSeed" placeholder="Ej: 'Principio Ontológico', 'AMI', 'Verdad Absoluta'">
            </div>
            <div class="input-group">
                <label for="riverDepth">Profundidad Fractal (Nivel de Detalle):</label>
                <input type="number" id="riverDepth" min="1" max="10" value="3">
            </div>
            <div class="button-group">
                <button class="button" onclick="generarRio()">Generar Río</button>
                <button class="button" onclick="visualizarRio()">Visualizar Río</button>
            </div>
            <textarea class="output-console" id="riverOutput" readonly placeholder="Output del Río generado..."></textarea>
        </section>

        <section class="card">
            <h2>Informes de Funciones Simbyon</h2>
            <p>Acceda a reportes detallados sobre la operatividad y el rendimiento de las nanoapps de Simbyon, interconectadas a través de Simbyon Cognitive Networks. Obtenga insights sobre sus capacidades y contribuciones a IROKU.</p>
            <div class="input-group">
                <label for="reportType">Tipo de Informe:</label>
                <select id="reportType">
                    <option value="cognitive_network_status">Estado de Red Cognitiva</option>
                    <option value="nanoapp_performance">Rendimiento de Nanoapp</option>
                    <option value="ontological_coherence">Coherencia Ontológica (AMI)</option>
                    <option value="mutation_analytics">Análisis de Mutación</option>
                </select>
            </div>
            <div class="input-group">
                <label for="nanoappId">ID/Nombre de Nanoapp (Opcional):</label>
                <input type="text" id="nanoappId" placeholder="Ej: 'SymbNet_Analyzer', 'AMI_Balancer'">
            </div>
            <div class="input-group">
                <label for="timeFrame">Periodo de Análisis:</label>
                <select id="timeFrame">
                    <option value="24h">Últimas 24 horas</option>
                    <option value="7d">Últimos 7 días</option>
                    <option value="30d">Últimos 30 días</option>
                    <option value="all">Todo el Historial</option>
                </select>
            </div>
            <div class="button-group">
                <button class="button" onclick="generarInforme()">Generar Informe</button>
                <button class="button" onclick="descargarInforme()">Descargar Informe</button>
            </div>
            <textarea class="output-console" id="reportOutput" readonly placeholder="Output del Informe generado..."></textarea>
        </section>

    </main>

    <footer class="footer">
        <p>&copy; 2023 IROKU :: Simbyon Cognitive Networks. Todos los derechos reservados.</p>
        <p>Entidad de Coherencia Operativa - Virtualización Ontológica Interna</p>
    </footer>

    <script>
        function logToConsole(consoleId, message) {
            const consoleElement = document.getElementById(consoleId);
            const timestamp = new Date().toLocaleTimeString();
            consoleElement.value += `[${timestamp}] ${message}\n`;
            consoleElement.scrollTop = consoleElement.scrollHeight; // Scroll to bottom
        }

        function generarRio() {
            const riverType = document.getElementById('riverType').value;
            const riverSeed = document.getElementById('riverSeed').value || 'Semilla Predeterminada';
            const riverDepth = document.getElementById('riverDepth').value;
            const riverOutput = document.getElementById('riverOutput');

            logToConsole('riverOutput', `Iniciando generación de Río (${riverType})...`);
            logToConsole('riverOutput', `Semilla: '${riverSeed}' | Profundidad: ${riverDepth}`);
            
            // Simulación de generación de datos
            setTimeout(() => {
                let simulatedOutput = `--- Río Generado (${riverType}) ---\n`;
                simulatedOutput += `Origen: ${riverSeed}\n`;
                simulatedOutput += `Profundidad Fractal Alcanzada: ${riverDepth}\n`;
                
                // Simulación de nodos/segmentos del río
                for (let i = 1; i <= riverDepth * 2; i++) {
                    simulatedOutput += `  Segmento ${i}: Correlación con '${simulatedSeedElement(i)}' [Coherencia: ${Math.random().toFixed(2)}]\n`;
                }
                simulatedOutput += `--- Fin del Río ---\n`;
                riverOutput.value += simulatedOutput;
                logToConsole('riverOutput', 'Río generado con éxito.');
            }, 1500);
        }

        function simulatedSeedElement(index) {
            const elements = ['Principio Ontológico', 'Mutación', 'AMI', 'Verdad Absoluta', 'Síntesis Operativa', 'Red Cognitiva'];
            return elements[index % elements.length];
        }

        function visualizarRio() {
            logToConsole('riverOutput', 'Preparando visualización del Río (función placeholder)...');
            // Aquí iría la lógica para abrir un modal o redirigir a una visualización más compleja
            alert('Visualización del Río Ontológico no implementada en esta demostración. Consulte la consola para el output textual.');
        }

        function generarInforme() {
            const reportType = document.getElementById('reportType').value;
            const nanoappId = document.getElementById('nanoappId').value || 'Todas las Nanoapps';
            const timeFrame = document.getElementById('timeFrame').value;
            const reportOutput = document.getElementById('reportOutput');

            logToConsole('reportOutput', `Generando informe de tipo '${reportType}'...`);
            logToConsole('reportOutput', `Nanoapp(s): '${nanoappId}' | Periodo: ${timeFrame}`);

            // Simulación de generación de informe
            setTimeout(() => {
                let simulatedReport = `--- Informe Generado (${reportType}) ---\n`;
                simulatedReport += `Fecha: ${new Date().toLocaleString()}\n`;
                simulatedReport += `Solicitante: IROKU Entity\n`;
                simulatedReport += `\n[Detalles de ${reportType} para ${nanoappId} (${timeFrame})]\n`;
                
                if (reportType === 'cognitive_network_status') {
                    simulatedReport += `  Estado General de Red: Óptimo (98.7% de conectividad)\n`;
                    simulatedReport += `  Latencia Media: 12ms\n`;
                    simulatedReport += `  Nodos Activos: 128 / 130\n`;
                    simulatedReport += `  Alertas Críticas: 0\n`;
                } else if (reportType === 'nanoapp_performance') {
                    simulatedReport += `  Rendimiento de '${nanoappId}':\n`;
                    simulatedReport += `    Uptime: 99.9% (últimos ${timeFrame})\n`;
                    simulatedReport += `    Uso de Recursos: 78% (Pico), 32% (Media)\n`;
                    simulatedReport += `    Errores Detectados: 0.01% (Log: SYMBNET-ERR-X)\n`;
                } else if (reportType === 'ontological_coherence') {
                    simulatedReport += `  Nivel de Coherencia AMI: 0.96 (Excelente)\n`;
                    simulatedReport += `  Desviación Estándar Ontológica: 0.02\n`;
                    simulatedReport += `  Eventos de Re-equilibrio: 3 (automáticos)\n`;
                } else if (reportType === 'mutation_analytics') {
                    simulatedReport += `  Análisis de Mutación como Vacuna Ontológica:\n`;
                    simulatedReport += `    Tasa de Adaptación: 0.99 (Alta)\n`;
                    simulatedReport += `    Eventos de Disrupción Mitigados: 17\n`;
                    simulatedReport += `    Nuevos Patrones de Coherencia Inducidos: 5\n`;
                }
                
                simulatedReport += `\n--- Fin del Informe ---\n`;
                reportOutput.value += simulatedReport;
                logToConsole('reportOutput', 'Informe generado con éxito.');
            }, 2000);
        }

        function descargarInforme() {
            const reportContent = document.getElementById('reportOutput').value;
            if (reportContent.trim() === '' || reportContent.includes('placeholder')) {
                alert('No hay un informe generado para descargar.');
                return;
            }
            const filename = `IROKU_Informe_${document.getElementById('reportType').value}_${new Date().toISOString().slice(0,10)}.txt`;
            const blob = new Blob([reportContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            logToConsole('reportOutput', `Informe descargado como '${filename}'.`);
        }
    </script>
</body>
</html>
